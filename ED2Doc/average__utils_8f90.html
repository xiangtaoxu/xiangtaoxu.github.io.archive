<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ED2: average_utils.f90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ED2
   </div>
   <div id="projectbrief">Ecosystem Demography Model</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c182457e5cb43a32968400b2e643c749.html">ED</a></li><li class="navelem"><a class="el" href="dir_7a0a3c0505f1446fb516e5ef0ab7c532.html">src</a></li><li class="navelem"><a class="el" href="dir_f0411b6326a5e690a96882d52c253164.html">io</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Modules</a> &#124;
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">average_utils.f90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Modules</h2></td></tr>
<tr class="memitem:namespaceaverage__utils"><td class="memItemLeft" align="right" valign="top">module &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html">average_utils</a></td></tr>
<tr class="memdesc:namespaceaverage__utils"><td class="mdescLeft">&#160;</td><td class="mdescRight">This module contains sub-routines used to create the averaged output variables. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a90965230835c19a82d90127089235c76"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a90965230835c19a82d90127089235c76">average_utils::aggregate_polygon_fmean</a> (cgrid)</td></tr>
<tr class="memdesc:a90965230835c19a82d90127089235c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following subroutine finds the polygon averages from site-, patch-, and cohort-level properties that have fmean variables associated.  <a href="namespaceaverage__utils.html#a90965230835c19a82d90127089235c76">More...</a><br /></td></tr>
<tr class="separator:a90965230835c19a82d90127089235c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf7868319b9242daa7eea553b25f2899"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#acf7868319b9242daa7eea553b25f2899">average_utils::integrate_ed_fmean_met_vars</a> (cgrid)</td></tr>
<tr class="memdesc:acf7868319b9242daa7eea553b25f2899"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine increments the time averaged site met-forcing variables. The polygon-level averages are found after the site-level are normalised.  <a href="namespaceaverage__utils.html#acf7868319b9242daa7eea553b25f2899">More...</a><br /></td></tr>
<tr class="separator:acf7868319b9242daa7eea553b25f2899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662a31926be61beb22be003b5ec40343"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a662a31926be61beb22be003b5ec40343">average_utils::normalize_ed_fmean_vars</a> (cgrid)</td></tr>
<tr class="memdesc:a662a31926be61beb22be003b5ec40343"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following sub-routine scales several variables that are integrated during one output step (frqsum) to actual rates, and find derived properties.  <a href="namespaceaverage__utils.html#a662a31926be61beb22be003b5ec40343">More...</a><br /></td></tr>
<tr class="separator:a662a31926be61beb22be003b5ec40343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40f7a4a46972fb6b9c0fe90fdc73a173"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a40f7a4a46972fb6b9c0fe90fdc73a173">average_utils::zero_ed_fmean_vars</a> (cgrid)</td></tr>
<tr class="separator:a40f7a4a46972fb6b9c0fe90fdc73a173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985b401d85dd857f44371dd2c3e7c40c"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a985b401d85dd857f44371dd2c3e7c40c">average_utils::integrate_ed_dmean_vars</a> (cgrid)</td></tr>
<tr class="memdesc:a985b401d85dd857f44371dd2c3e7c40c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine integrates most of the daily averages. This is called after the "fmean" variables are normalised, so we take advantage of these "fmean" variables.  <a href="namespaceaverage__utils.html#a985b401d85dd857f44371dd2c3e7c40c">More...</a><br /></td></tr>
<tr class="separator:a985b401d85dd857f44371dd2c3e7c40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a538e2e59c7c2889ae624b6e1d2a9e5f2"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a538e2e59c7c2889ae624b6e1d2a9e5f2">average_utils::normalize_ed_today_vars</a> (cgrid)</td></tr>
<tr class="memdesc:a538e2e59c7c2889ae624b6e1d2a9e5f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine will scale the daily averages of GPP and some respiration variables to normal units. These variables are not for output, so they are done separatedly. There are also some output variables here, because these depend on the average of the gpp, and leaf and root respiration and would need to be calculated again otherwise. !  <a href="namespaceaverage__utils.html#a538e2e59c7c2889ae624b6e1d2a9e5f2">More...</a><br /></td></tr>
<tr class="separator:a538e2e59c7c2889ae624b6e1d2a9e5f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446f9090fbbcf3eb12f4b9231d946e89"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a446f9090fbbcf3eb12f4b9231d946e89">average_utils::normalize_ed_todaynpp_vars</a> (cgrid)</td></tr>
<tr class="memdesc:a446f9090fbbcf3eb12f4b9231d946e89"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine will scale the daily NPP allocation terms.  <a href="namespaceaverage__utils.html#a446f9090fbbcf3eb12f4b9231d946e89">More...</a><br /></td></tr>
<tr class="separator:a446f9090fbbcf3eb12f4b9231d946e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2203ebc403bfd01a55cf7aac61777819"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a2203ebc403bfd01a55cf7aac61777819">average_utils::normalize_ed_dmean_vars</a> (cgrid)</td></tr>
<tr class="memdesc:a2203ebc403bfd01a55cf7aac61777819"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine normalises the daily mean variables of those variables that could not be integrated directly. This includes temperatures, polygon-level budget variables, and variables that are defined during daytime only.  <a href="namespaceaverage__utils.html#a2203ebc403bfd01a55cf7aac61777819">More...</a><br /></td></tr>
<tr class="separator:a2203ebc403bfd01a55cf7aac61777819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a92d00bf7112b127a596bd765cc12c6"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a6a92d00bf7112b127a596bd765cc12c6">average_utils::zero_ed_today_vars</a> (cgrid)</td></tr>
<tr class="memdesc:a6a92d00bf7112b127a596bd765cc12c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine resets the daily_averages for variables actually used in the integration.  <a href="namespaceaverage__utils.html#a6a92d00bf7112b127a596bd765cc12c6">More...</a><br /></td></tr>
<tr class="separator:a6a92d00bf7112b127a596bd765cc12c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480977137a13818b5fe0668914a4c52e"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a480977137a13818b5fe0668914a4c52e">average_utils::zero_ed_dx_vars</a> (cgrid)</td></tr>
<tr class="memdesc:a480977137a13818b5fe0668914a4c52e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine resets the daily eXtreme (maximum,minimum) variables, once the variables have been used. Current only dmin/dmax water potentials are included.  <a href="namespaceaverage__utils.html#a480977137a13818b5fe0668914a4c52e">More...</a><br /></td></tr>
<tr class="separator:a480977137a13818b5fe0668914a4c52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a2224da3c590c5645db8efa5c16c9f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#af1a2224da3c590c5645db8efa5c16c9f">average_utils::zero_ed_dmean_vars</a> (cgrid)</td></tr>
<tr class="memdesc:af1a2224da3c590c5645db8efa5c16c9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine resets the daily averages once the daily average file has been written and used to compute the monthly mean (in case the latter was requested).  <a href="namespaceaverage__utils.html#af1a2224da3c590c5645db8efa5c16c9f">More...</a><br /></td></tr>
<tr class="separator:af1a2224da3c590c5645db8efa5c16c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f0cd542ec9741c1bcc76e640498cd2"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a24f0cd542ec9741c1bcc76e640498cd2">average_utils::integrate_ed_mmean_vars</a> (cgrid)</td></tr>
<tr class="memdesc:a24f0cd542ec9741c1bcc76e640498cd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine integrates most of the monthly mean variables. This sub-routine <br />
 is called after the dmean variables have been normalised, so we can take advantage of their values.<br />
.  <a href="namespaceaverage__utils.html#a24f0cd542ec9741c1bcc76e640498cd2">More...</a><br /></td></tr>
<tr class="separator:a24f0cd542ec9741c1bcc76e640498cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afce18c59b2e9d5605d22e4d356934bdb"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#afce18c59b2e9d5605d22e4d356934bdb">average_utils::normalize_ed_mmean_vars</a> (cgrid)</td></tr>
<tr class="memdesc:afce18c59b2e9d5605d22e4d356934bdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine normalises the daily mean variables of those variables that could not be integrated directly. This includes temperatures, liquid fraction, and soil matric potential.  <a href="namespaceaverage__utils.html#afce18c59b2e9d5605d22e4d356934bdb">More...</a><br /></td></tr>
<tr class="separator:afce18c59b2e9d5605d22e4d356934bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5221fd3b377dfe424dbdcb81b83c378"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#aa5221fd3b377dfe424dbdcb81b83c378">average_utils::zero_ed_mmean_vars</a> (cgrid)</td></tr>
<tr class="memdesc:aa5221fd3b377dfe424dbdcb81b83c378"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine resets the monthly averages for variables actually used in the integration.  <a href="namespaceaverage__utils.html#aa5221fd3b377dfe424dbdcb81b83c378">More...</a><br /></td></tr>
<tr class="separator:aa5221fd3b377dfe424dbdcb81b83c378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af429d166f6097c18d6ab4ce05adbd31f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#af429d166f6097c18d6ab4ce05adbd31f">average_utils::integrate_ed_qmean_vars</a> (cgrid)</td></tr>
<tr class="memdesc:af429d166f6097c18d6ab4ce05adbd31f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine integrates most of the mean diel variables. This subroutine is called after the fmean variables have been normalised, so we can take advantage of their values.  <a href="namespaceaverage__utils.html#af429d166f6097c18d6ab4ce05adbd31f">More...</a><br /></td></tr>
<tr class="separator:af429d166f6097c18d6ab4ce05adbd31f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7f232f9a24079c3430b005098729615"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#ad7f232f9a24079c3430b005098729615">average_utils::normalize_ed_qmean_vars</a> (cgrid)</td></tr>
<tr class="memdesc:ad7f232f9a24079c3430b005098729615"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine normalises the daily mean variables of those variables that could not be integrated directly. These are pretty much just temperature, density, and liquid water fraction.  <a href="namespaceaverage__utils.html#ad7f232f9a24079c3430b005098729615">More...</a><br /></td></tr>
<tr class="separator:ad7f232f9a24079c3430b005098729615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9cb2592327099345c147516b927f51"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a2e9cb2592327099345c147516b927f51">average_utils::zero_ed_qmean_vars</a> (cgrid)</td></tr>
<tr class="memdesc:a2e9cb2592327099345c147516b927f51"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine resets the mean diel once the "Q" file has been written.  <a href="namespaceaverage__utils.html#a2e9cb2592327099345c147516b927f51">More...</a><br /></td></tr>
<tr class="separator:a2e9cb2592327099345c147516b927f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81384775dd05dba144bf83e9731d5275"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a81384775dd05dba144bf83e9731d5275">average_utils::update_ed_yearly_vars</a> (cgrid)</td></tr>
<tr class="memdesc:a81384775dd05dba144bf83e9731d5275"><td class="mdescLeft">&#160;</td><td class="mdescRight">This sub-routine updates the yearly variables.  <a href="namespaceaverage__utils.html#a81384775dd05dba144bf83e9731d5275">More...</a><br /></td></tr>
<tr class="separator:a81384775dd05dba144bf83e9731d5275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81df7cc84b1d62f7fb950e91d410abbd"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#a81df7cc84b1d62f7fb950e91d410abbd">average_utils::zero_ed_yearly_vars</a> (cgrid)</td></tr>
<tr class="memdesc:a81df7cc84b1d62f7fb950e91d410abbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This sub-routine re-sets the yearly variables.  <a href="namespaceaverage__utils.html#a81df7cc84b1d62f7fb950e91d410abbd">More...</a><br /></td></tr>
<tr class="separator:a81df7cc84b1d62f7fb950e91d410abbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac90817fe39c27153ed7bbee2cb856611"><td class="memItemLeft" align="right" valign="top">real(kind=4) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceaverage__utils.html#ac90817fe39c27153ed7bbee2cb856611">average_utils::isqu_ftz</a> (x)</td></tr>
<tr class="separator:ac90817fe39c27153ed7bbee2cb856611"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
